SQL> CREATE TABLE TITULACION
  2  (T CHAR(4) PRIMARY KEY,
  3   FAC VARCHAR2(60));

Table created.

SQL> INSERT INTO TITULACION (T)
  2  SELECT DISTINCT T
  3  FROM ASIGNATURA;

4 rows created.

SQL> SELECT * FROM TITULACION
  2  ;

T    FAC                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                
---- ------------------------------------------------------------                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       
GF                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      
GM                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      
GII                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
MII                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     

SQL> UPDATE TITULACION SET FAC='FACULTAD DE CIENCIAS' WHERE T='GF';

1 row updated.

SQL> UPDATE TITULACION SET FAC='FACULTAD DE CIENCIAS' WHERE T='GM';

1 row updated.

SQL> UPDATE TITULACION SET FAC='ESCUELA TECNICA SUPERIOR DE INGENIERIA INFORMATICA' WHERE T='GII';

1 row updated.

SQL> UPDATE TITULACION SET FAC='ESCUELA TECNICA SUPERIOR DE INGENIERIA INFORMATICA' WHERE T='MII';

1 row updated.

SQL> CREATE SYNONYM TIT FOR TITULACION;
CREATE SYNONYM TIT FOR TITULACION
               *
ERROR at line 1:
ORA-00955: name is already used by an existing object 


SQL> DROP SYNONYM TIT;

Synonym dropped.

SQL> CREATE SYNONYM TIT FOR TITULACION;

Synonym created.

SQL> SELECT *
  2  FROM TIT;

T    FAC                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                
---- ------------------------------------------------------------                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       
GF   FACULTAD DE CIENCIAS                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               
GM   FACULTAD DE CIENCIAS                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               
GII  ESCUELA TECNICA SUPERIOR DE INGENIERIA INFORMATICA                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 
MII  ESCUELA TECNICA SUPERIOR DE INGENIERIA INFORMATICA                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 

SQL> ALTER TABLE ASIGNATURA
  2  ADD FOREIGN KEY (T)
  3  REFERENCES TITULACION
  4  ON DELETE CASCADE;

Table altered.

SQL> ALTER TABLE TITULACION
  2  MODIFY T CHAR(6);
ALTER TABLE TITULACION
*
ERROR at line 1:
ORA-02292: integrity constraint (ALU0100830200.SYS_C0086121) violated - child record found 


SQL> DROP VIEW VISTA1
  2  ;
DROP VIEW VISTA1
*
ERROR at line 1:
ORA-00942: table or view does not exist 


SQL> CREATE VIEW VISTA1
  2  AS SELECT CAS, A, T, CUR, CAR
  3  FROM ASIGNATURA;

View created.

SQL> SELECT *
  2  FROM VISTA1
  3  ;

       CAS A                                                  T           CUR        CAR                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                
---------- -------------------------------------------------- ---- ---------- ----------                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                
         1 BASE DE DATOS                                      GII           3          7                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                
         2 INTELIGENCIA ARTIFICIAL                            GII           3          4                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                
         3 ALMACENES DE DATOS                                 MII           1          7                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                
         4 MINERIA DE DATOS                                   MII           1          7                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                
         5 INFORMATICA BASICA                                 GII           1          7                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                
         6 ALGEBRA                                            GII           1          1                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                
         7 CALCULO                                            GII           1          8                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                
         8 OPTIMIZACION                                       GII           1          6                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                
         9 GESTION DE RIESGOS                                 GII           3          4                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                
        10 ASTRONOMIA                                         GF            2          3                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                
        11 ENSEANZA DE LA MATEMATICA                          GM            2          5                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                

       CAS A                                                  T           CUR        CAR                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                
---------- -------------------------------------------------- ---- ---------- ----------                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                
        12 ANALISIS COMPLEJO                                  GM            4          2                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                

12 rows selected.

SQL> INSERT INTO VISTA1
  2  VALUES(13, 'ESTADISTICA', 'GII', 3, 7);

1 row created.

SQL> SELECT *
  2  FROM VISTA1;

       CAS A                                                  T           CUR        CAR                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                
---------- -------------------------------------------------- ---- ---------- ----------                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                
         1 BASE DE DATOS                                      GII           3          7                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                
         2 INTELIGENCIA ARTIFICIAL                            GII           3          4                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                
         3 ALMACENES DE DATOS                                 MII           1          7                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                
         4 MINERIA DE DATOS                                   MII           1          7                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                
         5 INFORMATICA BASICA                                 GII           1          7                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                
         6 ALGEBRA                                            GII           1          1                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                
         7 CALCULO                                            GII           1          8                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                
         8 OPTIMIZACION                                       GII           1          6                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                
         9 GESTION DE RIESGOS                                 GII           3          4                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                
        10 ASTRONOMIA                                         GF            2          3                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                
        11 ENSEANZA DE LA MATEMATICA                          GM            2          5                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                

       CAS A                                                  T           CUR        CAR                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                
---------- -------------------------------------------------- ---- ---------- ----------                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                
        12 ANALISIS COMPLEJO                                  GM            4          2                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                
        13 ESTADISTICA                                        GII           3          7                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                

13 rows selected.

SQL> SELECT *
  2  FROM ASIGNATURA;

       CAS A                                                  T           CUR        CAR         CT         CP         CL                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               
---------- -------------------------------------------------- ---- ---------- ---------- ---------- ---------- ----------                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               
         1 BASE DE DATOS                                      GII           3          7          3        1.5        1.5                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               
         2 INTELIGENCIA ARTIFICIAL                            GII           3          4        1.5        1.5          3                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               
         3 ALMACENES DE DATOS                                 MII           1          7        1.5          0        1.5                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               
         4 MINERIA DE DATOS                                   MII           1          7        1.5          0        1.5                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               
         5 INFORMATICA BASICA                                 GII           1          7          3        1.5        1.5                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               
         6 ALGEBRA                                            GII           1          1          3          3          0                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               
         7 CALCULO                                            GII           1          8          3          3          0                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               
         8 OPTIMIZACION                                       GII           1          6          3        1.5        1.5                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               
         9 GESTION DE RIESGOS                                 GII           3          4          3          0          3                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               
        10 ASTRONOMIA                                         GF            2          3          3        1.5        1.5                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               
        11 ENSEANZA DE LA MATEMATICA                          GM            2          5          6          0          0                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               

       CAS A                                                  T           CUR        CAR         CT         CP         CL                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               
---------- -------------------------------------------------- ---- ---------- ---------- ---------- ---------- ----------                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               
        12 ANALISIS COMPLEJO                                  GM            4          2        4.5          3          0                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               
        13 ESTADISTICA                                        GII           3          7          0          0          0                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               

13 rows selected.

SQL> UPDATE VISTA1
  2  SET CAR=6
  3  WHERE CAS=13;

1 row updated.

SQL> SELECT *
  2  UPDATE VISTA1
  3  
SQL> SELECT *
  2  FROM VISTA1;

       CAS A                                                  T           CUR        CAR                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                
---------- -------------------------------------------------- ---- ---------- ----------                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                
         1 BASE DE DATOS                                      GII           3          7                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                
         2 INTELIGENCIA ARTIFICIAL                            GII           3          4                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                
         3 ALMACENES DE DATOS                                 MII           1          7                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                
         4 MINERIA DE DATOS                                   MII           1          7                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                
         5 INFORMATICA BASICA                                 GII           1          7                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                
         6 ALGEBRA                                            GII           1          1                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                
         7 CALCULO                                            GII           1          8                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                
         8 OPTIMIZACION                                       GII           1          6                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                
         9 GESTION DE RIESGOS                                 GII           3          4                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                
        10 ASTRONOMIA                                         GF            2          3                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                
        11 ENSEANZA DE LA MATEMATICA                          GM            2          5                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                

       CAS A                                                  T           CUR        CAR                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                
---------- -------------------------------------------------- ---- ---------- ----------                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                
        12 ANALISIS COMPLEJO                                  GM            4          2                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                
        13 ESTADISTICA                                        GII           3          6                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                

13 rows selected.

SQL> CREATE VIEW VISTA2
  2  AS SELECT *
  3  FROM PLAN_DOCENTE NATURAL JOIN VISTA1;

View created.

SQL> SELECT *
  2  FROM VISTA2
  3  ;

       CAS        DNI        CTA        CPA        CLA FI        FF        A                                                  T           CUR        CAR                                                                                                                                                                                                                                                                                                                                                                                                                                                                
---------- ---------- ---------- ---------- ---------- --------- --------- -------------------------------------------------- ---- ---------- ----------                                                                                                                                                                                                                                                                                                                                                                                                                                                                
         1       4444          3        1.5        1.5 01-SEP-11           BASE DE DATOS                                      GII           3          7                                                                                                                                                                                                                                                                                                                                                                                                                                                                
         2       3333        1.5        1.5          3 01-SEP-08           INTELIGENCIA ARTIFICIAL                            GII           3          4                                                                                                                                                                                                                                                                                                                                                                                                                                                                
         2       1010        1.5        1.5          3 01-SEP-05 31-AUG-08 INTELIGENCIA ARTIFICIAL                            GII           3          4                                                                                                                                                                                                                                                                                                                                                                                                                                                                
         3       2020        1.5          0        1.5 01-SEP-08           ALMACENES DE DATOS                                 MII           1          7                                                                                                                                                                                                                                                                                                                                                                                                                                                                
         3       2222        1.5          0        1.5 01-SEP-06 31-AUG-07 ALMACENES DE DATOS                                 MII           1          7                                                                                                                                                                                                                                                                                                                                                                                                                                                                
         4       4444        1.5          0        1.5 01-SEP-08 31-AUG-10 MINERIA DE DATOS                                   MII           1          7                                                                                                                                                                                                                                                                                                                                                                                                                                                                
         4       2222        1.5          0        1.5 01-SEP-09           MINERIA DE DATOS                                   MII           1          7                                                                                                                                                                                                                                                                                                                                                                                                                                                                
         5       4444          3          0          0 01-SEP-10           INFORMATICA BASICA                                 GII           1          7                                                                                                                                                                                                                                                                                                                                                                                                                                                                
         6       5555          3          3          0 31-MAR-10           ALGEBRA                                            GII           1          1                                                                                                                                                                                                                                                                                                                                                                                                                                                                
         7       9999          3          3          0 01-SEP-10           CALCULO                                            GII           1          8                                                                                                                                                                                                                                                                                                                                                                                                                                                                
         8       3030          0        1.5        1.5 01-SEP-09           OPTIMIZACION                                       GII           1          6                                                                                                                                                                                                                                                                                                                                                                                                                                                                

       CAS        DNI        CTA        CPA        CLA FI        FF        A                                                  T           CUR        CAR                                                                                                                                                                                                                                                                                                                                                                                                                                                                
---------- ---------- ---------- ---------- ---------- --------- --------- -------------------------------------------------- ---- ---------- ----------                                                                                                                                                                                                                                                                                                                                                                                                                                                                
         8       1111          3          0          0 01-SEP-09           OPTIMIZACION                                       GII           1          6                                                                                                                                                                                                                                                                                                                                                                                                                                                                
         8       1111          3        1.5        1.5 01-SEP-07 31-AUG-09 OPTIMIZACION                                       GII           1          6                                                                                                                                                                                                                                                                                                                                                                                                                                                                
         9       1010          3          0          3 01-SEP-08 31-AUG-09 GESTION DE RIESGOS                                 GII           3          4                                                                                                                                                                                                                                                                                                                                                                                                                                                                
         9       1010        1.5          0        1.5 01-SEP-09           GESTION DE RIESGOS                                 GII           3          4                                                                                                                                                                                                                                                                                                                                                                                                                                                                
         9       3333        1.5          0        1.5 01-SEP-09           GESTION DE RIESGOS                                 GII           3          4                                                                                                                                                                                                                                                                                                                                                                                                                                                                
        10       6666          3        1.5        1.5 01-SEP-08 31-AUG-11 ASTRONOMIA                                         GF            2          3                                                                                                                                                                                                                                                                                                                                                                                                                                                                
        11       8888          6          0          0 01-SEP-09           ENSEANZA DE LA MATEMATICA                          GM            2          5                                                                                                                                                                                                                                                                                                                                                                                                                                                                
        12       7777        4.5          3          0 01-SEP-10           ANALISIS COMPLEJO                                  GM            4          2                                                                                                                                                                                                                                                                                                                                                                                                                                                                

19 rows selected.

SQL> UPDATE VISTA2 SET A='ANALISIS' WHERE DNI=7777;
UPDATE VISTA2 SET A='ANALISIS' WHERE DNI=7777
                  *
ERROR at line 1:
ORA-01779: cannot modify a column which maps to a non key-preserved table 


SQL> DESCRIBE VISTA2;
 Name                                                                                                                                                                                                                                                                                                                                                              Null?    Type
 ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- -------- --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
 CAS                                                                                                                                                                                                                                                                                                                                                               NOT NULL NUMBER(3)
 DNI                                                                                                                                                                                                                                                                                                                                                               NOT NULL NUMBER(8)
 CTA                                                                                                                                                                                                                                                                                                                                                                        NUMBER(3,1)
 CPA                                                                                                                                                                                                                                                                                                                                                                        NUMBER(3,1)
 CLA                                                                                                                                                                                                                                                                                                                                                                        NUMBER(3,1)
 FI                                                                                                                                                                                                                                                                                                                                                                NOT NULL DATE
 FF                                                                                                                                                                                                                                                                                                                                                                         DATE
 A                                                                                                                                                                                                                                                                                                                                                                 NOT NULL VARCHAR2(50)
 T                                                                                                                                                                                                                                                                                                                                                                 NOT NULL CHAR(4)
 CUR                                                                                                                                                                                                                                                                                                                                                                        NUMBER(1)
 CAR                                                                                                                                                                                                                                                                                                                                                                        NUMBER(3)

SQL> DROP VIEW VISTA1;

View dropped.

SQL> SELECT * FROM VISTA2;
SELECT * FROM VISTA2
              *
ERROR at line 1:
ORA-04063: view "ALU0100830200.VISTA2" has errors 


SQL> CREATE VIEW VISTA1
  2  AS SELECT CAS, A, T, CUR, CAR
  3  FROM ASIGNATURA;

View created.

SQL> CREATE INDEX INDICE1
  2   ON PROFESOR (P);

Index created.

SQL> SELECT DNI
  2  FROM PROFESOR
  3  WHERE P='JUAN';

       DNI                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              
----------                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              
      1111                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              

SQL> DROP INDEX INDICE1;

Index dropped.

SQL> CREATE INDEX INDICE2
  2  ON VISTA1 (CAR);
ON VISTA1 (CAR)
   *
ERROR at line 2:
ORA-01702: a view is not appropriate here 


SQL> GRANT SELECT ON DEPARTAMENTO TO alumno;

Grant succeeded.

SQL> GRANT SELECT ON AREA TO alumno;

Grant succeeded.

SQL> GRANT SELECT ON ASIGNATURA TO alumno;

Grant succeeded.

SQL> GRANT SELECT ON TITULACION TO alumno;

Grant succeeded.

SQL> GRANT UPDATE, INSERT, DELETE ON DEPARTAMENTO TO alumno;

Grant succeeded.

SQL> GRANT UPDATE, INSERT, DELETE ON AREA TO alumno;

Grant succeeded.

SQL> GRANT UPDATE ON ASIGNATURA TO alumno;

Grant succeeded.

SQL> GRANT UPDATE ON TITULACION TO alumno;

Grant succeeded.

SQL> COMMIT;

Commit complete.

SQL> CONNECT alumno
ERROR:
ORA-12162: TNS:net service name is incorrectly specified 


Warning: You are no longer connected to ORACLE.
SQL> CONNECT alumno
ERROR:
ORA-12162: TNS:net service name is incorrectly specified 


SQL> CONNECT alumno
ERROR:
ORA-12162: TNS:net service name is incorrectly specified 


SQL> set password for alumno = password('xxxxx');
SP2-0158: unknown SET option "password"
SQL> GRANT CONNECT TO alumno IDENTIFIED BY xxxxx;
SP2-0640: Not connected
SQL> CREATE USER alumno IDENTIFIED BY xxxxx;
SP2-0640: Not connected
SQL> REVOKE SELECT, UPDATE, INSERT, DELETE
  2    2  ON DEPARTAMENTO
  3    3  FROM alumno;
SP2-0640: Not connected
SQL> l
  1  REVOKE SELECT, UPDATE, INSERT, DELETE
  2    2  ON DEPARTAMENTO
  3*   3  FROM alumno
SQL> REVOKE SELECT, UPDATE, INSERT, DELETE
  2  ON DEPARTAMENTO
  3  FROM alumno;
SP2-0640: Not connected
SQL> select * from PROFESOR;
SP2-0640: Not connected
SQL> ls
SP2-0042: unknown command "ls" - rest of line ignored.
SQL> exit
